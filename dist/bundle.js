(()=>{"use strict";function e(t){var a;if(null==t||!1===t)return document.createTextNode("");if("string"==typeof t||"number"==typeof t||!0===t)return document.createTextNode(t);if(Array.isArray(t)){var n=document.createDocumentFragment();return t.forEach((function(t){var a=e(t);n.appendChild(a)})),n}var l=document.createElement(t.tag);t.cls&&(a=l.classList).add.apply(a,[].concat(t.cls).filter(Boolean)),t.attrs&&Object.keys(t.attrs).forEach((function(e){l.setAttribute(e,t.attrs[e])}));var i=e(t.content);return l.appendChild(i),l}var t={tag:"form",cls:"game_lvl",content:[{tag:"h4",cls:"game_lvl-title",content:"–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å"},{tag:"div",cls:"game_lvl-dif",content:[{tag:"div",cls:"game_lvl-inputs",content:[{tag:"label",cls:"game_lvl-label",attrs:{for:1},content:1},{tag:"input",cls:"game_lvl-input",attrs:{type:"radio",id:1,value:1,name:"lvl"}}]},{tag:"div",cls:"game_lvl-inputs",content:[{tag:"label",cls:"game_lvl-label",attrs:{for:2},content:2},{tag:"input",cls:"game_lvl-input",attrs:{type:"radio",id:2,value:2,name:"lvl"}}]},{tag:"div",cls:"game_lvl-inputs",content:[{tag:"label",cls:"game_lvl-label",attrs:{for:3},content:3},{tag:"input",cls:"game_lvl-input",attrs:{type:"radio",id:3,value:3,name:"lvl"}}]}]},{tag:"button",cls:"game_lvl-btn",content:"–°—Ç–∞—Ä—Ç"}]};document.querySelector(".game_timer-minnum"),document.querySelector(".game_timer-seknum"),document.querySelector(".game_lvl-btn");var a=0,n=0,l=0;function i(){a=Math.floor((Date.now()-n)/1e3),l=Number(l),2!==String(l).length&&l<10&&(l="0"+l),60===a&&(n=Date.now(),(l=Number(l)+1)<10&&(l="0"+l)),a<10&&(a="0"+a);var e=document.querySelector(".game_timer-minnum"),t=document.querySelector(".game_timer-seknum");if(e&&"Loose"!==window.application.status&&"Win"!==window.application.status){var i=document.querySelectorAll(".game_field-card");if(document.querySelectorAll(".flip").length===i.length)return e.innerHTML="00",void(t.innerHTML="00");e.innerHTML=String(l),t.innerHTML=String(a),window.application.timers=l+"."+a}}document.querySelectorAll(".game_field-card"),document.querySelector(".result");var r,c,d=!1,o=!1;function s(){if(!o&&this!==r){if(this.classList.add("flip"),!d)return d=!0,void(r=this);c=this,r.dataset.game===c.dataset.game?(r.removeEventListener("click",s),c.removeEventListener("click",s),m()):function(){o=!0,window.application.status="Loose",window.application.lvl=[],window.application.timerTest.timerId=0,document.querySelectorAll(".game_field-card").forEach((function(e){return e.removeEventListener("click",s)})),console.log("going to the loose screen");var e=document.querySelector(".result");window.application.screens.looseScreen(e)}()}}function m(){var e,t;d=(e=[!1,!1])[0],o=e[1],r=(t=[null,null])[0],c=t[1]}function u(){if(document.querySelector(".game_field")){var e=document.querySelectorAll(".game_field-card"),t=e.length,a=0;if(e.forEach((function(e){e.classList.contains("flip")&&a++})),t===a){window.application.status="Win";var n=document.querySelector(".result");window.application.screens.winScreen(n)}}}document.querySelectorAll(".game_field-card");var p={img:"./cards/cardBack.jpg",data:"back"},v=[];v.push({img:"./cards/1.jpg",data:"one"}),v.push({img:"./cards/2.jpg",data:"two"}),v.push({img:"./cards/3.jpg",data:"three"});var g=[];g.push({img:"./cards/1.jpg",data:"one"}),g.push({img:"./cards/2.jpg",data:"two"}),g.push({img:"./cards/3.jpg",data:"three"}),g.push({img:"./cards/4.jpg",data:"four"}),g.push({img:"./cards/5.jpg",data:"five"}),g.push({img:"./cards/6.jpg",data:"six"});var f=[];function h(e){return{tag:"div",cls:"game_field-card",attrs:{"data-game":e.data},content:[{tag:"img",cls:"game_field-cardfront",attrs:{src:e.img}}]}}function w(e){return{tag:"img",cls:"game_field-cardback",attrs:{src:e.img}}}function L(){var e,t,a,n=document.querySelector(".game");window.application.screens.mainScreen(n);var l=document.querySelector(".game_lvl");document.querySelectorAll(".game_lvl-input"),null===(e=document.getElementById("1"))||void 0===e||e.addEventListener("change",(function(){var e,t,a,n;null===(e=document.querySelector('label[for="1"]'))||void 0===e||e.classList.remove("changeLvl"),null===(t=document.querySelector('label[for="2"]'))||void 0===t||t.classList.remove("changeLvl"),null===(a=document.querySelector('label[for="3"]'))||void 0===a||a.classList.remove("changeLvl"),null===(n=document.querySelector('label[for="1"]'))||void 0===n||n.classList.add("changeLvl")})),null===(t=document.getElementById("2"))||void 0===t||t.addEventListener("change",(function(){var e,t,a,n;null===(e=document.querySelector('label[for="1"]'))||void 0===e||e.classList.remove("changeLvl"),null===(t=document.querySelector('label[for="2"]'))||void 0===t||t.classList.remove("changeLvl"),null===(a=document.querySelector('label[for="3"]'))||void 0===a||a.classList.remove("changeLvl"),null===(n=document.querySelector('label[for="2"]'))||void 0===n||n.classList.add("changeLvl")})),null===(a=document.getElementById("3"))||void 0===a||a.addEventListener("change",(function(){var e,t,a,n;null===(e=document.querySelector('label[for="1"]'))||void 0===e||e.classList.remove("changeLvl"),null===(t=document.querySelector('label[for="2"]'))||void 0===t||t.classList.remove("changeLvl"),null===(a=document.querySelector('label[for="3"]'))||void 0===a||a.classList.remove("changeLvl"),null===(n=document.querySelector('label[for="3"]'))||void 0===n||n.classList.add("changeLvl")})),l.addEventListener("submit",(function(e){e.preventDefault();var t=l.elements.lvl.value;window.application.lvl=t,""===t?console.log("choose the lvl!"):window.application.screens.screenGame(n)}))}f.push({img:"./cards/1.jpg",data:"one"}),f.push({img:"./cards/2.jpg",data:"two"}),f.push({img:"./cards/3.jpg",data:"three"}),f.push({img:"./cards/4.jpg",data:"four"}),f.push({img:"./cards/5.jpg",data:"five"}),f.push({img:"./cards/6.jpg",data:"six"}),f.push({img:"./cards/7.jpg",data:"seven"}),f.push({img:"./cards/8.jpg",data:"eight"}),f.push({img:"./cards/9.jpg",data:"nine"});var y=document.querySelector(".game");window.application={status:{},screens:{},lvl:[],renderScreen:function(e){window.application.timers.forEach((function(e){clearInterval(e)})),window.application.screens[e]?(y.innerHTML="",this.screens[e]):console.warn("–¢–∞–∫–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ—Ç")},timers:[],timerWin:[],timerTest:[]},window.application.screens.mainScreen=function(a){a.innerHTML="",document.querySelector(".result").style.zIndex="-1",a.appendChild(e(t))},window.application.screens.gameStart=L,L(),window.application.screens.screenGame=function(t){t.innerHTML="";var a=document.createElement("div");a.classList.add("game_playscreen"),t.appendChild(a);var r=document.createElement("div");r.classList.add("game_header"),a.appendChild(r);var c=document.createElement("div");c.classList.add("game_field"),a.appendChild(c);var d=document.createElement("div");d.classList.add("game_timer"),r.appendChild(d);var o=document.createElement("div");o.classList.add("game_timer-min"),d.appendChild(o);var L=document.createElement("div");L.classList.add("game_timer-text"),o.appendChild(L),L.textContent="min";var y=document.createElement("div");y.classList.add("game_timer-minnum"),o.appendChild(y),y.textContent="00";var _=document.createElement("div");_.classList.add("game_timer-comma"),d.appendChild(_),_.textContent=".";var S=document.createElement("div");S.classList.add("game_timer-sek"),d.appendChild(S);var E=document.createElement("div");E.classList.add("game_timer-text"),S.appendChild(E),E.textContent="sek";var C=document.createElement("div");C.classList.add("game_timer-seknum"),S.appendChild(C),C.textContent="00";var q=document.createElement("span");q.classList.add("countdown"),r.appendChild(q);var b=document.createElement("button");if(b.classList.add("game_lvl-btn"),r.appendChild(b),b.textContent="–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ","1"===window.application.lvl){for(var x=0;x<2;x++)c.appendChild(e(v.map(h)));document.querySelectorAll(".game_field-card").forEach((function(t){t.appendChild(e(w(p)))}))}else if("2"===window.application.lvl){for(x=0;x<2;x++)c.appendChild(e(g.map(h)));document.querySelectorAll(".game_field-card").forEach((function(t){t.appendChild(e(w(p)))}))}else{for(x=0;x<2;x++)c.appendChild(e(f.map(h)));document.querySelectorAll(".game_field-card").forEach((function(t){t.appendChild(e(w(p)))}))}document.querySelectorAll(".game_field-card").forEach((function(e){var t=Math.floor(18*Math.random());e.style.order=t})),function(){var e=document.querySelectorAll(".game_field-card");document.querySelector(".result"),function(e){var t,a,r;t=document.querySelector(".countdown"),a=4,r=function(){a>0?(t.textContent="‚è± "+String(a)+" ‚è±",setTimeout(r,1e3)):t.textContent="ü§òGOü§ò",a-=1},setTimeout(r,1e3);var c=document.querySelector(".result");c.style.zIndex="2";var d=document.querySelectorAll(".game_field-card");clearInterval(window.application.timerWin.timeout),d.forEach((function(e){e.classList.add("flip")})),setTimeout((function(){d.forEach((function(e){e.classList.remove("flip")}));var t=setInterval(e,1e3);window.application.timerWin.timeout=t,function(){n=Date.now(),l=0;var e=window.setInterval(i);window.application.timerTest.timerId=e}(),c.style.zIndex="-1";var a=document.querySelector(".countdown");setTimeout((function(){a.style.display="none"}),1e3)}),5e3)}(u),m(),document.querySelector(".game_timer-minnum"),document.querySelector(".game_timer-seknum");var t=document.querySelector(".game_lvl-btn");e.forEach((function(e){return e.addEventListener("click",s)})),t.addEventListener("click",(function(){var e=0,t=document.querySelector(".game");window.application.timers=e+".0",window.application.timerTest.forEach((function(e){clearInterval(e)})),Date.now(),e=0,setInterval(i),clearInterval(window.application.timerWin.timeout),window.application.screens.screenGame(t)}))}()},window.application.screens.looseScreen=function(e){e.style.zIndex="2";var t=document.createElement("div");e.appendChild(t),t.classList.add("result_field");var a=document.createElement("div");t.appendChild(a),a.classList.add("result_frame");var n=document.createElement("div");a.appendChild(n),n.classList.add("result_frame-loose");var l=document.createElement("img");n.appendChild(l),l.classList.add("result_frame-img"),l.src="./cards/paimonangry.png";var i=document.createElement("h4");n.appendChild(i),i.classList.add("result_frame-youloose"),i.textContent="–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!";var r=document.createElement("div");a.appendChild(r),r.classList.add("result_frame-time");var c=document.createElement("h5");r.appendChild(c),c.classList.add("result_frame-timetxt"),c.textContent="–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è:";var d=document.createElement("h3");r.appendChild(d),c.classList.add("result_frame-timenum"),c.textContent=window.application.timers;var o=document.createElement("button");a.appendChild(o),o.classList.add("result_frame-btn"),o.textContent="–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",o.addEventListener("click",(function(){window.application.timers="00.00",clearInterval(window.application.timerTest.timerId);var e=document.querySelector(".game"),t=document.querySelector(".result");clearInterval(window.application.timerWin.timeout),window.application.status="",window.application.lvl=[],window.application.timers=[],window.application.timerWin=[],window.application.timerTest=[],t.innerHTML="",e.innerHTML="",window.application.screens.mainScreen(e),L()}))},window.application.screens.winScreen=function(e){e.style.zIndex="2";var t=document.createElement("div");e.appendChild(t),t.classList.add("result_field");var a=document.createElement("div");t.appendChild(a),a.classList.add("result_frame");var n=document.createElement("div");a.appendChild(n),n.classList.add("result_frame-win");var l=document.createElement("img");n.appendChild(l),l.classList.add("result_frame-img"),l.src="./cards/paimonhappy.png";var i=document.createElement("h4");n.appendChild(i),i.classList.add("result_frame-youwin"),i.textContent="–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏!";var r=document.createElement("div");a.appendChild(r),r.classList.add("result_frame-time");var c=document.createElement("h5");r.appendChild(c),c.classList.add("result_frame-timetxt"),c.textContent="–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è:";var d=document.createElement("h3");r.appendChild(d),d.classList.add("result_frame-timenum"),d.textContent=window.application.timers;var o=document.createElement("button");a.appendChild(o),o.classList.add("result_frame-btn"),o.textContent="–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞",o.addEventListener("click",(function(){var e=document.querySelector(".game");document.querySelector(".result").innerHTML="",window.application.lvl=[],window.application.status="",window.application.screens.mainScreen(e),L()}))}})();